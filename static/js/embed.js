!function(){"use strict";var e,t={3170:function(e,t,n){var r,a,i,o=n(5466),l=n(6116);n(1394),n(5063),n(4083),n(6191),r="page-embed",a=n(645).EmbedPage,(i=document.getElementById(r))&&a&&l.render(o.createElement(a,null),i)},4234:function(e,t,n){n.r(t),n.d(t,{CircleIconButton:function(){return r.M},FilterOptions:function(){return a.j},FiltersToggleButton:function(){return i._},MaterialIcon:function(){return o.O},NavigationContentApp:function(){return l.o},NavigationMenuList:function(){return s.S},Notifications:function(){return u.T},NumericInputWithUnit:function(){return c.O},PopupMain:function(){return d.W8},PopupTop:function(){return d.HF},SpinnerLoader:function(){return m.i},UserThumbnail:function(){return p.q}});var r=n(7714),a=n(7446),i=n(2915),o=n(2299),l=n(2917),s=n(5671),u=n(2436),c=n(5517),d=n(940),m=n(6309),p=n(6142)},1505:function(e,t,n){n.r(t),n.d(t,{default:function(){return S}}),n(9751),n(2322),n(3296),n(5101),n(9268),n(9006),n(3080),n(2004),n(8407),n(6394),n(8288),n(5677),n(2129),n(4655);var r=n(5466),a=n(3074),i=n.n(a),o=n(541),l=n(3613),s=n(8578),u=n(473),c=n(9722),d=n(9905),m=n(8727),p=n(1283);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(S,e);var t,n,a,i,f=(a=S,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(a);if(i){var n=b(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return v(this,e)});function S(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,S),(t=f.call(this,e)).state={displayPlayer:!1},t.videoSources=[],function(e){switch(e){case"running":s.MediaPageStore.set("media-load-error-type","encodingRunning"),s.MediaPageStore.set("media-load-error-message","Media encoding is currently running. Try again in few minutes.");break;case"pending":s.MediaPageStore.set("media-load-error-type","encodingPending"),s.MediaPageStore.set("media-load-error-message","Media encoding is pending");break;case"fail":s.MediaPageStore.set("media-load-error-type","encodingFailed"),s.MediaPageStore.set("media-load-error-message","Media encoding failed")}}(t.props.data.encoding_status),null!==s.MediaPageStore.get("media-load-error-type"))return t.state.displayPlayer=!0,v(t);if("string"==typeof t.props.data.poster_url?t.videoPoster=(0,u.formatInnerLink)(t.props.data.poster_url,t.props.siteUrl):"string"==typeof t.props.data.thumbnail_url&&(t.videoPoster=(0,u.formatInnerLink)(t.props.data.thumbnail_url,t.props.siteUrl)),t.videoInfo=(0,d.RA)(t.props.data.encodings_info,t.props.data.hls_info),Object.keys(t.videoInfo).length){var n=s.VideoViewerStore.get("video-quality");(null===n||"Auto"===n&&void 0===t.videoInfo.Auto)&&(n=720);var r=(0,d.$e)(n,t.videoInfo);"Auto"===n&&void 0!==t.videoInfo.Auto&&t.videoSources.push({src:t.videoInfo.Auto.url[0]});var a,i,o=(0,d.KC)();for(i=0;i<t.videoInfo[r].format.length;){if("hls"===t.videoInfo[r].format[i]){t.videoSources.push({src:t.videoInfo[r].url[i]});break}i+=1}for(i in t.props.data.encodings_info[r])t.props.data.encodings_info[r].hasOwnProperty(i)&&o.support[i]&&(a=t.props.data.encodings_info[r][i].url)&&(a=(0,u.formatInnerLink)(a,t.props.siteUrl),t.videoSources.push({src:a,encodings_status:t.props.data.encodings_info[r][i].status}))}else t.videoInfo=null;if(t.videoSources.length){if(!t.props.inEmbed&&1===t.videoSources.length&&"running"===t.videoSources[0].encodings_status)return s.MediaPageStore.set("media-load-error-type","encodingRunning"),s.MediaPageStore.set("media-load-error-message","Media encoding is currently running. Try again in few minutes."),v(t)}else switch(s.MediaPageStore.get("media-load-error-type")){case"encodingRunning":case"encodingPending":case"encodingFailed":break;default:p.warn("VIDEO DEBUG:","Video files don't exist")}s.PageStore.on("switched_media_auto_play",t.onUpdateMediaAutoPlay.bind(y(t))),t.browserCache=new c.BrowserCache(l.SiteContext._currentValue.id,86400);var m=new c.MediaDurationInfo;return m.update(t.props.data.duration),t.durationISO8601=m.ISO8601(),t.playerElem=null,t.playerInstance=null,t.onPlayerInit=t.onPlayerInit.bind(y(t)),t.onClickNext=t.onClickNext.bind(y(t)),t.onClickPrevious=t.onClickPrevious.bind(y(t)),t.onStateUpdate=t.onStateUpdate.bind(y(t)),t.onVideoEnd=t.onVideoEnd.bind(y(t)),t.onVideoRestart=t.onVideoRestart.bind(y(t)),t}return t=S,(n=[{key:"componentDidMount",value:function(){if(this.videoSources.length){this.recommendedMedia=this.props.data.related_media.length?new c.PlayerRecommendedMedia(this.props.data.related_media,this.props.inEmbed,!s.PageStore.get("config-media-item").displayViews):null,this.upNextLoaderView=!this.props.inEmbed&&this.props.data.related_media.length?new c.UpNextLoaderView(this.props.data.related_media[0]):null;var e=null;if(this.props.inEmbed){var t=document.createElement("a"),n=document.createElement("a");(e=document.createElement("div")).setAttribute("class","media-links-top-left"),t&&(t.setAttribute("class","title-link"),t.setAttribute("href",this.props.data.url),t.setAttribute("title",this.props.data.title),t.setAttribute("target","_blank"),t.innerHTML=this.props.data.title),n&&(n.setAttribute("class","user-thumb-link"),n.setAttribute("href",(0,u.formatInnerLink)(this.props.data.author_profile,this.props.siteUrl)),n.setAttribute("title",this.props.data.author_name),n.setAttribute("target","_blank"),n.setAttribute("style","background-image:url("+(0,u.formatInnerLink)(s.MediaPageStore.get("media-author-thumbnail-url"),this.props.siteUrl)+")")),e.appendChild(n),e.appendChild(t)}var r=s.MediaPageStore.get("media-url"),a='<button class="share-video-btn"><i class="material-icons">share</i><span>Share</span></button>';a+='<div class="share-options-wrapper">\t\t\t\t\t\t\t\t\t<div class="share-options">\t\t\t\t\t\t\t\t\t\t<div class="share-options-inner">\t\t\t\t\t\t\t\t\t\t\t<div class="sh-option share-email">\t\t\t\t\t\t\t\t\t\t\t\t<a href="mailto:?body='+r+'" title=""><span><i class="material-icons">email</i></span><span>Email</span></a>\t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t\t<div class="sh-option share-fb">\t\t\t\t\t\t\t\t\t\t\t\t<a href="https://www.facebook.com/sharer.php?u='+r+'" title="" target="_blank"><span></span><span>Facebook</span></a>\t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t\t<div class="sh-option share-tw">\t\t\t\t\t\t\t\t\t\t\t\t<a href="https://twitter.com/intent/tweet?url='+r+'" title="" target="_blank"><span></span><span>Twitter</span></a>\t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t\t<div class="sh-option share-whatsapp">\t\t\t\t\t\t\t\t\t\t\t\t<a href="whatsapp://send?text='+r+'" title="" target="_blank" data-action="share/whatsapp/share"><span></span><span>WhatsApp</span></a>\t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t\t<div class="sh-option share-telegram">\t\t\t\t\t\t\t\t\t\t\t\t<a href="https://t.me/share/url?url='+r+"&amp;text="+this.props.data.title+'" title="" target="_blank"><span></span><span>Telegram</span></a>\t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t\t<div class="sh-option share-linkedin">\t\t\t\t\t\t\t\t\t\t\t\t\t<a href="https://www.linkedin.com/shareArticle?mini=true&amp;url='+r+'" title="" target="_blank"><span></span><span>LinkedIn</span></a>\t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t\t<div class="sh-option share-reddit">\t\t\t\t\t\t\t\t\t\t\t\t<a href="https://reddit.com/submit?url='+r+"&amp;title="+this.props.data.title+'" title="" target="_blank"><span></span><span>reddit</span></a>\t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t\t<div class="sh-option share-tumblr">\t\t\t\t\t\t\t\t\t\t\t\t<a href="https://www.tumblr.com/widgets/share/tool?canonicalUrl='+r+"&amp;title="+this.props.data.title+'" title="" target="_blank"><span></span><span>Tumblr</span></a>\t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t\t<div class="sh-option share-pinterest">\t\t\t\t\t\t\t\t\t\t\t\t<a href="http://pinterest.com/pin/create/link/?url='+r+'" title="" target="_blank"><span></span><span>Pinterest</span></a>\t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t\t<div class="sh-option share-more">\t\t\t\t\t\t\t\t\t\t\t\t<a href="'+r+'" title="More" target="_blank"><span><i class="material-icons">more_horiz</i></span><span></span></a>\t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t</div>',this.cornerLayers={topLeft:e,topRight:this.upNextLoaderView?this.upNextLoaderView.html():null,bottomLeft:this.recommendedMedia?this.recommendedMedia.html():null,bottomRight:this.props.inEmbed?a:null},this.setState({displayPlayer:!0},(function(){setTimeout((function(){var e=document.querySelector(".share-video-btn"),t=document.querySelector(".share-options-wrapper"),n=document.querySelector(".share-options-inner");e&&e.addEventListener("click",(function(e){(0,u.addClassname)(document.querySelector(".video-js.vjs-mediacms"),"vjs-visible-share-options")})),t&&t.addEventListener("click",(function(e){e.target!==n&&e.target!==t||(0,u.removeClassname)(document.querySelector(".video-js.vjs-mediacms"),"vjs-visible-share-options")}))}),1e3)}))}}},{key:"componentWillUnmount",value:function(){this.unsetRecommendedMedia()}},{key:"initRecommendedMedia",value:function(){null!==this.recommendedMedia&&(this.props.inEmbed||this.recommendedMedia.init(),this.playerInstance.player.on("fullscreenchange",this.recommendedMedia.onResize),s.PageStore.on("window_resize",this.recommendedMedia.onResize),s.VideoViewerStore.on("changed_viewer_mode",this.recommendedMedia.onResize))}},{key:"unsetRecommendedMedia",value:function(){null!==this.recommendedMedia&&(this.playerInstance.player.off("fullscreenchange",this.recommendedMedia.onResize),s.PageStore.removeListener("window_resize",this.recommendedMedia.onResize),s.VideoViewerStore.removeListener("changed_viewer_mode",this.recommendedMedia.onResize),this.recommendedMedia.destroy())}},{key:"onClickNext",value:function(){var e;s.MediaPageStore.get("playlist-id")?null===(e=s.MediaPageStore.get("playlist-next-media-url"))&&(e=this.props.data.related_media[0].url):this.props.inEmbed||(e=this.props.data.related_media[0].url),window.location.href=e}},{key:"onClickPrevious",value:function(){var e;s.MediaPageStore.get("playlist-id")?null===(e=s.MediaPageStore.get("playlist-previous-media-url"))&&(e=this.props.data.related_media[0].url):this.props.inEmbed||(e=this.props.data.related_media[0].url),window.location.href=e}},{key:"onStateUpdate",value:function(e){s.VideoViewerStore.get("in-theater-mode")!==e.theaterMode&&o.VideoViewerActions.set_viewer_mode(e.theaterMode),s.VideoViewerStore.get("player-volume")!==e.volume&&o.VideoViewerActions.set_player_volume(e.volume),s.VideoViewerStore.get("player-sound-muted")!==e.soundMuted&&o.VideoViewerActions.set_player_sound_muted(e.soundMuted),s.VideoViewerStore.get("video-quality")!==e.quality&&o.VideoViewerActions.set_video_quality(e.quality),s.VideoViewerStore.get("video-playback-speed")!==e.playbackSpeed&&o.VideoViewerActions.set_video_playback_speed(e.playbackSpeed)}},{key:"onPlayerInit",value:function(e,t){this.playerElem=t,this.playerInstance=e,this.upNextLoaderView&&(this.upNextLoaderView.setVideoJsPlayerElem(this.playerInstance.player.el_),this.onUpdateMediaAutoPlay()),this.props.inEmbed||this.playerElem.parentNode.focus(),null!==this.recommendedMedia&&(this.recommendedMedia.initWrappers(this.playerElem.parentNode),this.props.inEmbed&&(this.playerInstance.player.one("pause",this.recommendedMedia.init),this.initRecommendedMedia())),this.playerInstance.player.one("ended",this.onVideoEnd)}},{key:"onVideoRestart",value:function(){null!==this.recommendedMedia&&(this.recommendedMedia.updateDisplayType("inline"),this.props.inEmbed&&this.playerInstance.player.one("pause",this.recommendedMedia.init),this.playerInstance.player.one("ended",this.onVideoEnd))}},{key:"onVideoEnd",value:function(){if(null!==this.recommendedMedia&&(this.props.inEmbed||this.initRecommendedMedia(),this.recommendedMedia.updateDisplayType("full"),this.playerInstance.player.one("playing",this.onVideoRestart)),!this.props.inEmbed&&s.MediaPageStore.get("playlist-id")){var e=document.querySelector(".video-player .more-media"),t=document.querySelector(".video-player .vjs-actions-anim");this.upNextLoaderView.cancelTimer();var n=s.MediaPageStore.get("playlist-next-media-url");return n&&(e&&(e.style.display="none"),t&&(t.style.display="none"),window.location.href=n),void this.upNextLoaderView.hideTimerView()}this.upNextLoaderView&&(s.PageStore.get("media-auto-play")?(this.upNextLoaderView.startTimer(),this.playerInstance.player.one("play",function(){this.upNextLoaderView.cancelTimer()}.bind(this))):this.upNextLoaderView.cancelTimer())}},{key:"onUpdateMediaAutoPlay",value:function(){this.upNextLoaderView&&(s.PageStore.get("media-auto-play")?this.upNextLoaderView.showTimerView(this.playerInstance.isEnded()):this.upNextLoaderView.hideTimerView())}},{key:"render",value:function(){var e=this,t=null,n=null;!this.props.inEmbed&&s.MediaPageStore.get("playlist-id")?(t=s.MediaPageStore.get("playlist-next-media-url"),n=s.MediaPageStore.get("playlist-previous-media-url")):t=this.props.data.related_media.length&&!this.props.inEmbed?this.props.data.related_media[0].url:null;var a=this.props.data.sprites_url?{url:this.props.siteUrl+"/"+this.props.data.sprites_url.replace(/^\//g,""),frame:{width:160,height:90,seconds:10}}:null;return r.createElement("div",{key:(this.props.inEmbed?"embed-":"")+"player-container",className:"player-container"+(this.videoSources.length?"":" player-container-error"),style:this.props.containerStyles,ref:"playerContainer"},r.createElement("div",{className:"player-container-inner",ref:"playerContainerInner",style:this.props.containerStyles},this.state.displayPlayer&&null!==s.MediaPageStore.get("media-load-error-type")?r.createElement(m.hJ,{errorMessage:s.MediaPageStore.get("media-load-error-message")}):null,this.state.displayPlayer&&null==s.MediaPageStore.get("media-load-error-type")?r.createElement("div",{className:"video-player",ref:"videoPlayerWrapper",key:"videoPlayerWrapper"},r.createElement(l.SiteConsumer,null,(function(i){return r.createElement(m.Y7,{playerVolume:e.browserCache.get("player-volume"),playerSoundMuted:e.browserCache.get("player-sound-muted"),videoQuality:e.browserCache.get("video-quality"),videoPlaybackSpeed:parseInt(e.browserCache.get("video-playback-speed"),10),inTheaterMode:e.browserCache.get("in-theater-mode"),siteId:i.id,siteUrl:i.url,info:e.videoInfo,cornerLayers:e.cornerLayers,sources:e.videoSources,poster:e.videoPoster,previewSprite:a,subtitlesInfo:e.props.data.subtitles_info,enableAutoplay:!e.props.inEmbed,inEmbed:e.props.inEmbed,hasTheaterMode:!e.props.inEmbed,hasNextLink:!!t,hasPreviousLink:!!n,errorMessage:s.MediaPageStore.get("media-load-error-message"),onClickNextCallback:e.onClickNext,onClickPreviousCallback:e.onClickPrevious,onStateUpdateCallback:e.onStateUpdate,onPlayerInitCallback:e.onPlayerInit})}))):null))}}])&&h(t.prototype,n),S}(r.PureComponent);function w(e){for(var t=null,n=[],r=location.search.substr(1).split("&"),a=0;a<r.length;a++)(n=r[a].split("="))[0]===e&&(t=decodeURIComponent(n[1]));return t}S.defaultProps={inEmbed:!0,siteUrl:i().string.isRequired},S.propTypes={inEmbed:i().bool},new MutationObserver((function(e,t){var n,r=document.querySelector(".video-js.vjs-mediacms video");if(r)return(n=videojs(r)).playsinline(!0),1==w("muted")&&n.muted(!0),w("time")>=0&&n.currentTime(w("time")),1==w("autoplay")&&n.play(),void t.disconnect()})).observe(document,{childList:!0,subtree:!0})},6006:function(e,t,n){n.d(t,{m:function(){return _}});var r=n(5466),a=n(8578),i=n(2546),o=n(473),l=(n(6394),n(4669),n(3233),n(2322),n(9006),n(2004),n(8407),n(8288),n(5677),n(2129),n(4655),n(288),n(4458),n(3675),n(3613)),s=n(541),u=n(4234);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t,n){var r,a=[];for(n=!!n,r=0;r<e.length;++r)n?e.substring(r,r+t.length)===t&&a.push(r):e.substring(r,r+t.length).toLowerCase()===t.toLowerCase()&&a.push(r);return a}function p(e){var t=function(){return window.innerHeight-98},n=function(){return l(t())},i=c((0,r.useState)(t()),2),o=i[0],l=i[1];return(0,r.useEffect)((function(){return a.PageStore.on("window_resize",n),function(){return a.PageStore.removeListener("window_resize",n)}})),r.createElement("div",{className:"search-predictions-list",style:{maxHeight:o+"px"}},e.children||null)}function f(e){var t=(0,r.useRef)(null);function n(t){var n;switch(t.keyCode||t.charCode){case 13:a();break;case 38:n=e.itemsDomArray(e.previousIndex);break;case 40:n=e.itemsDomArray(e.nextIndex)}void 0!==n&&(n.focus(),t.preventDefault(),t.stopPropagation())}function a(){e.onSelect instanceof Function&&e.onSelect(e.value)}return(0,r.useEffect)((function(){e.onPredictionItemLoad(e.index,t.current)})),r.createElement("div",{ref:t,tabIndex:"0",className:"search-predictions-item",onFocus:function(e){e.target.onkeydown=n},onBlur:function(e){e.target.onkeydown=null},onClick:a},r.createElement("span",{dangerouslySetInnerHTML:{__html:e.children||""}}))}function h(e){var t=(0,r.useRef)(null),n=(0,r.useRef)(null),o=c((0,i.usePopup)(),3),d=o[0],h=o[1],g=(o[2],c((0,r.useState)([]),2)),v=g[0],y=g[1],b=c((0,r.useState)([]),2),S=b[0],w=b[1],E=c((0,r.useState)(a.SearchFieldStore.get("search-query")),2),P=E[0],k=E[1],M=(0,i.useLayout)().visibleMobileSearch;function _(e){return-1===e?t.current:v[e]}function C(e){var t=!1;switch(e.keyCode||e.charCode){case 38:t=_(S.length-1);break;case 40:t=_(0)}t&&(t.focus(),e.preventDefault(),e.stopPropagation())}function N(e){w([]),k(e),setTimeout((function(){n.current.submit()}),50)}function I(e,t){var n=v;n[e]=t,y(n)}function x(e,t){var n,a,i,o,l,s,u,c=[];if(e){for(i=[],n=0;n<t.length;){if(o=t[n],(l=m(t[n],e,!1)).length)for(a=l.length-1;a>=0;)o=o.substring(0,l[a])+"<b>"+o.substring(l[a],l[a]+e.length)+"</b>"+o.substring(l[a]+e.length),a--;i.push([t[n],o]),n+=1}for(n=0;n<i.length;)0===n?(s=-1,u=n+1):n===i.length-1?(s=n-1,u=-1):(s=n-1,u=n+1),c.push(r.createElement(f,{key:n,index:n,onPredictionItemLoad:I,value:i[n][0],onSelect:N,itemsDomArray:_,nextIndex:u,previousIndex:s},i[n][1])),n+=1}w(c)}return(0,r.useEffect)((function(){M&&t.current.focus()}),[M]),(0,r.useEffect)((function(){S.length?(t.current.onkeydown=t.current.onkeydown||C,d.current.tryToShow()):(t.current.onkeydown=null,d.current.tryToHide())}),[S]),(0,r.useEffect)((function(){return a.SearchFieldStore.on("load_predictions",x),function(){a.SearchFieldStore.removeListener("load_predictions",x)}}),[]),r.createElement("div",{className:"search-field-wrap"},r.createElement("div",null,r.createElement("form",{ref:n,method:"get",action:l.LinksContext._currentValue.search.base,autoComplete:"off",onSubmit:function(e){""===t.current.value.trim()&&(e.preventDefault(),e.stopPropagation())}},r.createElement("div",null,r.createElement("div",{className:"text-field-wrap"},r.createElement("input",{ref:t,type:"text",placeholder:"Search","aria-label":"Search",name:"q",value:P,onChange:function(e){var t=e.target.value;t="string"!=typeof t?t.toString():t,k(t),""!==t.trim()&&s.SearchFieldActions.requestPredictions(t.trim())},onFocus:function(){S.length&&(t.current.onkeydown=t.current.onkeydown||C)},onBlur:function(){t.current.onkeydown=null}}),r.createElement(h,{contentRef:d,hideCallback:function(){w([])}},r.createElement(u.PopupMain,null,r.createElement(p,null,S)))),r.createElement("button",{type:"submit","aria-label":"Search"},r.createElement(u.MaterialIcon,{type:"search"}))))))}function g(){var e=(0,i.useTheme)(),t=e.currentThemeMode,n=e.changeThemeMode,a=(0,r.useRef)(null);return r.createElement("div",{className:"theme-switch",tabIndex:0,onKeyPress:function(e){0===e.keyCode&&n()},onClick:function(e){e.target!==a.current&&n()}},r.createElement("span",null,"Dark Theme"),r.createElement("span",null,r.createElement("label",{className:"checkbox-label right-selectbox"},r.createElement("span",{className:"checkbox-switcher-wrap"},r.createElement("span",{className:"checkbox-switcher"},r.createElement("input",{ref:a,type:"checkbox",tabIndex:-1,checked:"dark"===t,onChange:function(e){e.stopPropagation(),n()}}))))))}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t,n){var a={main:null};if(e.is.anonymous)a.main=r.createElement("div",null,r.createElement(u.PopupMain,null,r.createElement(u.NavigationMenuList,{items:t.middle})));else{var i=[];function o(e,t){t.length&&(i.length&&i.push(r.createElement("hr",{key:e+"-nav-seperator"})),i.push(r.createElement(u.NavigationMenuList,{key:e+"-nav",items:t})))}o("top",t.top),o("middle",t.middle),o("bottom",t.bottom),a.main=r.createElement("div",null,r.createElement(u.PopupTop,null,r.createElement("a",{className:"user-menu-top-link",href:e.pages.about,title:e.username},r.createElement("span",null,r.createElement(u.UserThumbnail,{size:"medium"})),r.createElement("span",null,r.createElement("span",{className:"username"},e.username)))),i.length?r.createElement(u.PopupMain,null,i):null)}return n&&(a["switch-theme"]=r.createElement("div",null,r.createElement(u.PopupTop,null,r.createElement("div",null,r.createElement("span",null,r.createElement(u.CircleIconButton,{className:"menu-item-icon change-page","data-page-id":"main","aria-label":"Switch theme"},r.createElement("i",{className:"material-icons"},"arrow_back"))),r.createElement("span",null,"Switch theme"))),r.createElement(u.PopupMain,null,r.createElement(g,null)))),a}function b(e){var t=e.user,n=e.links;return!t.is.anonymous&&t.can.addMedia?r.createElement("div",{className:"hidden-only-in-small"},r.createElement(u.CircleIconButton,{type:"link",href:n.user.addMedia,title:"Upload media"},r.createElement(u.MaterialIcon,{type:"video_call"}),r.createElement("span",{className:"hidden-txt"},"Upload media"))):null}function S(e){var t=e.user,n=e.link,a=e.hasHeaderThemeSwitcher;return t.is.anonymous&&t.can.login?r.createElement("div",{className:"sign-in-wrap"},r.createElement("a",{href:n,rel:"noffolow",className:"button-link sign-in"+(a?" hidden-only-in-small":" hidden-only-in-extra-small"),title:"Sign in"},"Sign in")):null}function w(e){var t=e.user,n=e.link,a=e.hasHeaderThemeSwitcher;return t.is.anonymous&&t.can.register?r.createElement("div",{className:"register-wrap"},r.createElement("a",{href:n,className:"button-link register-link"+(a?" hidden-only-in-small":" hidden-only-in-extra-small"),title:"Register"},"Register")):null}function E(e){var t,n,o=(0,i.useLayout)().toggleMobileSearch,s=(t=(0,i.usePopup)(),n=3,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=s[0],d=s[1],m=s[2];return r.createElement(l.HeaderConsumer,null,(function(e){return r.createElement(l.MemberConsumer,null,(function(t){return r.createElement(l.LinksConsumer,null,(function(n){return r.createElement("div",{className:"page-header-right",style:{marginRight:300}},r.createElement("div",null,r.createElement("div",{className:"mobile-search-toggle"},r.createElement(u.CircleIconButton,{onClick:o,"aria-label":"Search"},r.createElement(u.MaterialIcon,{type:"search"}))),r.createElement(b,{user:t,links:n}),r.createElement("div",{className:(t.is.anonymous?"user-options":"user-thumb")+(!t.is.anonymous||e.hasThemeSwitcher?"":" visible-only-in-extra-small")},r.createElement(m,{contentRef:c},t.is.anonymous?r.createElement(u.CircleIconButton,{"aria-label":"Settings"},r.createElement(u.MaterialIcon,{type:"more_vert"})):r.createElement(u.UserThumbnail,{size:"small",isButton:!0})),r.createElement(d,{contentRef:c},r.createElement(u.NavigationContentApp,{initPage:"main",pages:y(t,e.popupNavItems,e.hasThemeSwitcher),pageChangeSelector:".change-page",pageIdSelectorAttr:"data-page-id"}))),r.createElement(S,{user:t,link:n.signin,hasHeaderThemeSwitcher:e.hasThemeSwitcher}),r.createElement(w,{user:t,link:n.register,hasHeaderThemeSwitcher:e.hasThemeSwitcher}),a.PageStore.get("config-contents").header.right?r.createElement("div",{className:"on-header-right",dangerouslySetInnerHTML:{__html:a.PageStore.get("config-contents").header.right}}):null))}))}))}))}n(9808);var P=function(e){var t=e.src,n=e.loading,a=void 0===n?"lazy":n,i=e.title,o=e.alt,l=e.href,s=void 0===l?"#":l;return t?r.createElement("div",{className:"logo"},r.createElement("a",{href:s,title:i},r.createElement("span",null,r.createElement("img",{src:t,alt:o||i,title:i,loading:a})))):null};function k(){var e=(0,i.useTheme)().logo,t=(0,i.useLayout)(),n=t.enabledSidebar,o=t.toggleMobileSearch,s=t.toggleSidebar;return r.createElement(l.SiteConsumer,null,(function(t){return r.createElement(l.LinksConsumer,null,(function(i){return r.createElement("div",{className:"page-header-right"},r.createElement("div",null,r.createElement(P,{src:e,href:i.home,title:t.title}),a.PageStore.get("config-contents").header.onLogoRight?r.createElement("div",{className:"on-logo-right",dangerouslySetInnerHTML:{__html:a.PageStore.get("config-contents").header.onLogoRight}}):null,r.createElement("div",{className:"close-search-field"},r.createElement(u.CircleIconButton,{onClick:o},r.createElement("i",{className:"material-icons"},"arrow_back"))),n?r.createElement("div",{className:"toggle-sidebar"},r.createElement(u.CircleIconButton,{onClick:s},r.createElement("i",{className:"material-icons"},"menu"))):null))}))}))}var M=n(3899);function _(e){var t=(0,i.useUser)().isAnonymous,n=(0,i.useLayout)().visibleMobileSearch;return(0,r.useEffect)((function(){!function(){function e(){var e=this.parentNode;(0,o.addClassname)(e,"hiding"),setTimeout(function(){e&&e.parentNode&&e.parentNode.removeChild(e)}.bind(this),400)}setTimeout(function(){var t,n=document.querySelectorAll(".alert.alert-dismissible .close");if(n.length)for(t=0;t<n.length;)n[t].addEventListener("click",e),t+=1}.bind(this),1e3)}(),void 0!==a.PageStore.get("current-page")&&"add-media"!==a.PageStore.get("current-page")||function(){var e=document.querySelector(".media-uploader-wrap");if(e){var t=document.createElement("div");t.setAttribute("class","pre-upload-msg"),t.innerHTML=a.PageStore.get("config-contents").uploader.belowUploadArea,e.appendChild(t)}}()}),[]),r.createElement("header",{className:"page-header"+(n?" mobile-search-field":"")+(t?" anonymous-user":"")},r.createElement(M.SidebarThemeSwitcher,null),r.createElement(h,null),r.createElement(k,null),r.createElement(E,null))}},2947:function(e,t,n){n.d(t,{$:function(){return b}}),n(2004),n(8407),n(6394),n(8288),n(5677),n(2129),n(4655),n(288),n(4458),n(3675);var r=n(5466),a=n(2546),i=n(8578),o=(n(2070),n(9808),n(2322),n(3296),n(137)),l=n.n(o),s=n(3613),u=n(4234),c=n(6401);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t,n){return e.map((function(e){var r=l()(e.link);return{active:t===r.host+r.pathname,itemType:"link",link:e.link||"#",icon:e.icon||null,iconPos:"right",text:e.text||e.link||"#",itemAttr:{className:e.className||"",onClick:"Categories"===e.text?n:null}}}))}function p(){var e,t,n=(e=(0,r.useState)(!1),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=(n[0],n[1]),p=(0,a.useUser)(),f=p.userCan,h=(p.isAnonymous,p.pages,(0,r.useContext)(s.LinksContext)),g=(0,r.useContext)(s.SidebarContext),v=l()(window.location.href),y=(v.host+v.pathname).replace(/\/+$/,"");function b(){o((function(e){return!e}))}function S(){var e,t,n,a,o=[];g.hideHomeLink||o.push({link:h.home,icon:"home",text:"سەرکی",className:"nav-item-home"});var l=null===(e=i.PageStore.get("config-enabled"))||void 0===e?void 0:e.pages.featured;null!=l&&l.enabled&&o.push({link:h.featured,icon:"star",text:l.title,className:"nav-item-featured"});var s=null===(t=i.PageStore.get("config-enabled"))||void 0===t?void 0:t.pages.recommended;null!=s&&s.enabled&&o.push({link:h.recommended,icon:"done_outline",text:s.title,className:"nav-item-recommended"});var c=null===(n=i.PageStore.get("config-enabled"))||void 0===n?void 0:n.pages.latest;null!=c&&c.enabled&&o.push({link:h.latest,icon:"new_releases",text:c.title,className:"nav-item-latest"});var d=null===(a=i.PageStore.get("config-enabled"))||void 0===a?void 0:a.taxonomies.tags;return!g.hideTagsLink&&null!=d&&d.enabled&&o.push({link:h.archive.tags,icon:"local_offer",text:d.title,className:"nav-item-tags"}),r.createElement(u.NavigationMenuList,{key:"main-first",items:m(o,y,b)})}function w(){var e,t=[],n=null===(e=i.PageStore.get("config-enabled"))||void 0===e?void 0:e.taxonomies.categories;return!g.hideCategoriesLink&&null!=n&&n.enabled&&t.push({icon:"list_alt",text:n.title,className:"nav-item-categories"}),r.createElement(r.Fragment,null,t.length>0&&r.createElement(u.NavigationMenuList,{key:"main-second",items:m(t,y)}),r.createElement(c.CategoriesPage,null))}function E(){var e,t,n=[],a=null===(e=i.PageStore.get("config-enabled"))||void 0===e?void 0:e.pages.history;null!=a&&a.enabled&&n.push({link:h.user.history,icon:"history",text:a.title,className:"nav-item-history"});var o=null===(t=i.PageStore.get("config-enabled"))||void 0===t?void 0:t.pages.liked;return f.likeMedia&&null!=o&&o.enabled&&n.push({link:h.user.liked,icon:"thumb_up",text:o.title,className:"nav-item-liked"}),n.length?r.createElement(u.NavigationMenuList,{key:"user",items:m(n,y)}):null}function P(){var e,t,n=(null===(e=i.PageStore.get("config-contents"))||void 0===e||null===(t=e.sidebar.navMenu)||void 0===t?void 0:t.items)||[];return n.length?r.createElement(u.NavigationMenuList,{key:"custom",items:m(n,y)}):null}return r.createElement(r.Fragment,null,r.createElement(S,null),r.createElement(w,null),r.createElement(E,null),r.createElement(P,null))}function f(){var e=i.PageStore.get("config-contents").sidebar.belowNavMenu;return e?r.createElement("div",{className:"page-sidebar-under-nav-menus",dangerouslySetInnerHTML:{__html:e}}):null}function h(){var e=i.PageStore.get("config-contents").sidebar.belowThemeSwitcher;return e?r.createElement("div",{className:"page-sidebar-below-theme-switcher",dangerouslySetInnerHTML:{__html:e}}):null}function g(){var e=i.PageStore.get("config-contents").sidebar.footer;return e?r.createElement("div",{className:"page-sidebar-bottom",dangerouslySetInnerHTML:{__html:e}}):null}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(){var e=(0,a.useLayout)(),t=e.visibleSidebar,n=e.toggleSidebar,o=(0,r.useRef)(null),l=v((0,r.useState)(t||492>window.innerWidth),2),s=l[0],u=l[1],c=v((0,r.useState)(!0),2),d=c[0],m=c[1],y=null,b=null,S=!1,w=!1;function E(){if(!S&&i.PageStore.get("config-contents").sidebar.footer){y=document.querySelector(".page-sidebar-bottom"),b=y.previousSibling,"relative"!==getComputedStyle(b).position&&(w=!0),S=!0,i.PageStore.on("window_resize",P);var e=0,t=0,n=0;!function r(){var a=b.offsetTop+b.offsetHeight;a!==n?n=a:t+=1,10>t&&50>(e+=1)&&setTimeout(r,10),P()}()}}function P(){var e=b,t=y.offsetHeight;w&&(t+=e.offsetHeight,e=e.previousSibling),m(!(e.offsetTop+e.offsetHeight+t>window.innerHeight-o.current.offsetTop))}function k(e){e.preventDefault(),e.stopPropagation(),n()}return(0,r.useEffect)((function(){u(!0),setTimeout(E,20)}),[t]),(0,r.useEffect)((function(){(t||s)&&E();var e=document.querySelector(".page-sidebar-content-overlay");return e&&e.addEventListener("click",k),function(){S&&i.PageStore.removeListener("window_resize",P),e&&e.removeEventListener("click",k)}}),[]),r.createElement("div",{ref:o,className:"page-sidebar"+(d?" fixed-bottom":"")},r.createElement("div",{className:"page-sidebar-inner"},t||s?r.createElement(r.Fragment,null,r.createElement(p,null),r.createElement(f,null),r.createElement(h,null),r.createElement(g,null)):null))}n(3899)},6191:function(e,t,n){n.r(t),n.d(t,{PageHeader:function(){return r.m},PageMain:function(){return a.r},PageSidebar:function(){return i.$},PageSidebarContentOverlay:function(){return o.a}});var r=n(6006),a=n(9198),i=n(2947),o=n(1542)},8727:function(e,t,n){n.d(t,{hJ:function(){return c},Y7:function(){return d}}),n(2322),n(3296),n(6394),n(4669),n(717),n(5677),n(2129),n(4655),n(6453),n(9006);var r=n(5466),a=n(3074),i=n.n(a),o=n(137),l=n.n(o),s=n(8009),u=n.n(s);function c(e){return r.createElement("div",{className:"error-container"},r.createElement("div",{className:"error-container-inner"},r.createElement("span",{className:"icon-wrap"},r.createElement("i",{className:"material-icons"},"error_outline")),r.createElement("span",{className:"msg-wrap"},e.errorMessage)))}function d(e){var t=(0,r.useRef)(null),n=null,a={playerVolume:e.playerVolume,playerSoundMuted:e.playerSoundMuted,videoQuality:e.videoQuality,videoPlaybackSpeed:e.videoPlaybackSpeed,inTheaterMode:e.inTheaterMode};function i(){void 0!==e.onClickNextCallback&&e.onClickNextCallback()}function o(){void 0!==e.onClickPreviousCallback&&e.onClickPreviousCallback()}function s(t){a.playerVolume!==t.volume&&(a.playerVolume=t.volume),a.playerSoundMuted!==t.soundMuted&&(a.playerSoundMuted=t.soundMuted),a.videoQuality!==t.quality&&(a.videoQuality=t.quality),a.videoPlaybackSpeed!==t.playbackSpeed&&(a.videoPlaybackSpeed=t.playbackSpeed),a.inTheaterMode!==t.theaterMode&&(a.inTheaterMode=t.theaterMode),void 0!==e.onStateUpdateCallback&&e.onStateUpdateCallback(t)}function c(){if(null===n&&null===e.errorMessage&&(e.inEmbed||(window.removeEventListener("focus",c),document.removeEventListener("visibilitychange",c)),t.current)){e.inEmbed||t.current.focus();var r,d,m,p={on:!1};if(void 0!==e.subtitlesInfo&&null!==e.subtitlesInfo&&e.subtitlesInfo.length){p.languages=[];for(var f=0;f<e.subtitlesInfo.length;)void 0!==e.subtitlesInfo[f].src&&void 0!==e.subtitlesInfo[f].srclang&&void 0!==e.subtitlesInfo[f].label&&p.languages.push({src:(r=e.subtitlesInfo[f].src,d=e.siteUrl,m=void 0,m=l()(r,{}),""!==m.origin&&"null"!==m.origin&&m.origin||(m=l()(d+"/"+r.replace(/^\//g,""),{})),m.toString()),srclang:e.subtitlesInfo[f].srclang,label:e.subtitlesInfo[f].label}),f+=1;p.languages.length&&(p.on=!0)}n=new(u())(t.current,{enabledTouchControls:!0,sources:e.sources,poster:e.poster,autoplay:e.enableAutoplay,bigPlayButton:!0,controlBar:{theaterMode:e.hasTheaterMode,pictureInPicture:!1,next:!!e.hasNextLink,previous:!!e.hasPreviousLink},subtitles:p,cornerLayers:e.cornerLayers,videoPreviewThumb:e.previewSprite},{volume:a.playerVolume,soundMuted:a.playerSoundMuted,theaterMode:a.inTheaterMode,theSelectedQuality:void 0,theSelectedPlaybackSpeed:a.videoPlaybackSpeed||1},e.info,[.25,.5,.75,1,1.25,1.5,1.75,2],s,i,o),void 0!==e.onPlayerInitCallback&&e.onPlayerInitCallback(n,t.current)}}return a.playerVolume=null===a.playerVolume?1:Math.max(Math.min(Number(a.playerVolume),1),0),a.playerSoundMuted=null!==a.playerSoundMuted&&a.playerSoundMuted,a.videoQuality=null!==a.videoQuality?a.videoQuality:"Auto",a.videoPlaybackSpeed=null!==a.videoPlaybackSpeed&&a.videoPlaybackSpeed,a.inTheaterMode=null!==a.inTheaterMode&&a.inTheaterMode,(0,r.useEffect)((function(){return e.inEmbed||document.hasFocus()||"visible"===document.visibilityState?c():(window.addEventListener("focus",c),document.addEventListener("visibilitychange",c)),n&&n.player.one("loadedmetadata",(function(){var e=new URLSearchParams(window.location.search),t=Number(e.get("t")),r=isNaN(t)?0:t;n.player.currentTime(r)})),function(){null!==n&&(videojs(t.current).dispose(),n=null),void 0!==e.onUnmountCallback&&e.onUnmountCallback()}}),[]),null===e.errorMessage?r.createElement("video",{ref:t,className:"video-js vjs-mediacms native-dimensions"}):r.createElement("div",{className:"error-container"},r.createElement("div",{className:"error-container-inner"},r.createElement("span",{className:"icon-wrap"},r.createElement("i",{className:"material-icons"},"error_outline")),r.createElement("span",{className:"msg-wrap"},e.errorMessage)))}c.propTypes={errorMessage:i().string.isRequired},d.propTypes={playerVolume:i().string,playerSoundMuted:i().bool,videoQuality:i().string,videoPlaybackSpeed:i().number,inTheaterMode:i().bool,siteId:i().string.isRequired,siteUrl:i().string.isRequired,errorMessage:i().string,cornerLayers:i().object,subtitlesInfo:i().array.isRequired,inEmbed:i().bool.isRequired,sources:i().array.isRequired,info:i().object.isRequired,enableAutoplay:i().bool.isRequired,hasTheaterMode:i().bool.isRequired,hasNextLink:i().bool.isRequired,hasPreviousLink:i().bool.isRequired,poster:i().string,previewSprite:i().object,onClickPreviousCallback:i().func,onClickNextCallback:i().func,onPlayerInitCallback:i().func,onStateUpdateCallback:i().func,onUnmountCallback:i().func},d.defaultProps={errorMessage:null,cornerLayers:{}}},5063:function(e,t,n){n.r(t),n.d(t,{LayoutContext:function(){return d},LayoutProvider:function(){return m},LayoutConsumer:function(){return p}}),n(2004),n(8407),n(6394),n(8288),n(5677),n(2129),n(4655),n(288),n(4458),n(3675);var r,a=n(5466),i=n(9722),o=n(8578),l=n(473),s=n(1929);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=(0,a.createContext)(),m=function(e){var t=e.children,n=(0,a.useContext)(s.default),c=new i.BrowserCache("MediaCMS["+n.id+"][layout]",86400),m=!(!document.getElementById("app-sidebar")&&!document.querySelector(".page-sidebar")),p=u((0,a.useState)(c.get("visible-sidebar")),2),f=p[0],h=p[1],g=u((0,a.useState)(!1),2),v=g[0],y=g[1];(0,a.useEffect)((function(){f?(0,l.addClassname)(document.body,"visible-sidebar"):(0,l.removeClassname)(document.body,"visible-sidebar"),"media"!==o.PageStore.get("current-page")&&1023<window.innerWidth&&c.set("visible-sidebar",f)}),[f]),(0,a.useEffect)((function(){o.PageStore.once("page_init",(function(){"media"===o.PageStore.get("current-page")&&(h(!1),(0,l.removeClassname)(document.body,"visible-sidebar"))})),h("media"!==o.PageStore.get("current-page")&&1023<window.innerWidth&&(null===f||f))}),[]);var b={enabledSidebar:m,visibleSidebar:f,setVisibleSidebar:h,visibleMobileSearch:v,toggleMobileSearch:function(){y(!v)},toggleSidebar:function(){var e=!f;!function(e){clearTimeout(r),(0,l.addClassname)(document.body,"sliding-sidebar"),r=setTimeout((function(){"media"===o.PageStore.get("current-page")?e?(0,l.addClassname)(document.body,"overflow-hidden"):(0,l.removeClassname)(document.body,"overflow-hidden"):!e||767<window.innerWidth?(0,l.removeClassname)(document.body,"overflow-hidden"):(0,l.addClassname)(document.body,"overflow-hidden"),e?(0,l.addClassname)(document.body,"visible-sidebar"):(0,l.removeClassname)(document.body,"visible-sidebar"),r=setTimeout((function(){r=null,(0,l.removeClassname)(document.body,"sliding-sidebar")}),220)}),20)}(e),h(e)}};return a.createElement(d.Provider,{value:b},t)},p=d.Consumer},1929:function(e,t,n){n.r(t),n.d(t,{SiteContext:function(){return i},SiteConsumer:function(){return o}});var r=n(5466),a=n(9479),i=(0,r.createContext)((0,a.v)(window.MediaCMS).site),o=i.Consumer;t.default=i},1394:function(e,t,n){n.r(t),n.d(t,{ThemeContext:function(){return h},ThemeProvider:function(){return g},ThemeConsumer:function(){return v}}),n(7588),n(6394),n(5334),n(2004),n(8407),n(8288),n(5677),n(2129),n(4655),n(288),n(4458),n(3675);var r=n(5466),a=n(9722),i=n(473),o=n(9479),l=n(1929),s=n(1283);function u(e,t,n,r,a,i,o){try{var l=e[i](o),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){u(i,r,a,o,l,"next",e)}function l(e){u(i,r,a,o,l,"throw",e)}o(void 0)}))}}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=(0,o.v)(window.MediaCMS);function f(e){var t=null,n=null;return e.darkMode&&(n=(0,i.supportsSvgAsImg)()&&e.darkMode.svg?e.darkMode.svg:e.darkMode.img),e.lightMode&&(t=(0,i.supportsSvgAsImg)()&&e.lightMode.svg?e.lightMode.svg:e.lightMode.img),!t&&n?t=n:!n&&t&&(n=t),{light:t,dark:n}}var h=(0,r.createContext)(),g=function(e){var t,n,o=e.children,u=(0,r.useContext)(l.default),m=new a.BrowserCache("MediaCMS["+u.id+"][theme]",86400),g=d((0,r.useState)((t=m.get("mode"),n=p.theme.mode,"light"===t||"dark"===t?t:n)),2),v=g[0],y=g[1],b=d((0,r.useState)(""),2),S=b[0],w=b[1];(0,r.useEffect)((function(){function e(){return(e=c(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://193.203.191.168/api/v1/site-logo/");case 3:if((t=e.sent).ok){e.next=6;break}throw new Error("Network response was not ok");case 6:return e.next=8,t.json();case 8:n=e.sent,r=f(n),w(r[v]),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),s.error("Error fetching logo data:",e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[v]),(0,r.useEffect)((function(){"dark"===v?(0,i.addClassname)(document.body,"dark_theme"):(0,i.removeClassname)(document.body,"dark_theme"),m.set("mode",v)}),[v]);var E={logo:S,currentThemeMode:v,changeThemeMode:function(){y((function(e){return"light"===e?"dark":"light"}))},themeModeSwitcher:p.theme.switch};return r.createElement(h.Provider,{value:E},o)},v=h.Consumer},4083:function(e,t,n){n.r(t),n.d(t,{UserContext:function(){return i},UserProvider:function(){return l},UserConsumer:function(){return s}});var r=n(5466),a=n(9479),i=(0,r.createContext)(),o=(0,a.v)(window.MediaCMS).member,l=function(e){var t=e.children,n={isAnonymous:o.is.anonymous,username:o.username,thumbnail:o.thumbnail,userCan:o.can,pages:o.pages};return r.createElement(i.Provider,{value:n},t)},s=i.Consumer;t.default=i},1454:function(e,t,n){function r(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")}function a(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function i(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function o(e,t){return e.className&&new RegExp("(\\s|^)"+t+"(\\s|$)").test(e.className)}n.d(t,{Je:function(){return r},dt:function(){return a},Ec:function(){return i},mO:function(){return o},Wx:function(){return l},U7:function(){return s},Jj:function(){return u}}),n(2322),n(3296),n(7390),n(4669),n(7441),n(9268),n(2070);var l=window.cancelAnimationFrame||window.mozCancelAnimationFrame,s=window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;function u(){var e={document:{visibility:[]},window:{resize:[],scroll:[]}};return document.addEventListener("visibilitychange",(function(){e.document.visibility.map((function(e){return e()}))})),window.addEventListener("resize",(function(){e.window.resize.map((function(e){return e()}))})),window.addEventListener("scroll",(function(){e.window.scroll.map((function(e){return e()}))})),{doc:function(t){"function"==typeof t&&e.document.visibility.push(t)},win:function(t,n){"function"==typeof t&&e.window.resize.push(t),"function"==typeof n&&e.window.scroll.push(n)}}}},473:function(e,t,n){n.d(t,{BrowserEvents:function(){return r.Jj},addClassname:function(){return r.Ec},cancelAnimationFrame:function(){return r.Wx},hasClassname:function(){return r.mO},removeClassname:function(){return r.dt},requestAnimationFrame:function(){return r.U7},supportsSvgAsImg:function(){return r.Je},logErrorAndReturnError:function(){return a.O},logWarningAndReturnError:function(){return a.a},exportStore:function(){return i.Z},formatInnerLink:function(){return o.U},formatViewsNumber:function(){return l.Z},csrfToken:function(){return s.o},imageExtension:function(){return u.s},greaterCommonDivision:function(){return c.$A},isPositiveIntegerOrZero:function(){return c.ZU},PositiveInteger:function(){return d.n},PositiveIntegerOrZero:function(){return d.g},publishedOnDate:function(){return m.Z},quickSort:function(){return p.U},deleteRequest:function(){return f.Jl},getRequest:function(){return f.A_},postRequest:function(){return f.j0},putRequest:function(){return f.GH}});var r=n(1454),a=n(9039),i=n(9264),o=n(1397),l=n(705),s=n(1450),u=n(2161),c=(n(4646),n(408)),d=n(5477),m=n(2276),p=n(3803),f=n(447)},6401:function(e,t,n){var r=n(1283),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CategoriesPage=void 0;var i=a(n(5466)),o=n(3613),l=n(5910),s=n(824),u=n(7637);t.CategoriesPage=function(e){var t=e.id,n=void 0===t?"categories":t,a=e.title,c=void 0===a?"Categories":a;return i.default.createElement(u.Page,{id:n},i.default.createElement(o.ApiUrlConsumer,null,(function(e){return r.log("API URL:",e.archive.categories),r.log("Page Title:",c),i.default.createElement(l.MediaListWrapper,{className:"items-list-ver"},i.default.createElement(s.LazyLoadItemListAsync,{singleLinkContent:!0,inCategoriesList:!0,requestUrl:e.archive.categories}))})))}},645:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.EmbedPage=void 0;var l=i(n(5466)),s=n(3613),u=n(8578),c=n(541),d=o(n(1505)),m={position:"fixed",top:0,left:0,right:0,bottom:0,display:"block"},p={width:"100%",height:"100%"};t.EmbedPage=function(){var e=l.useState(!1),t=e[0],n=e[1],r=l.useState(!1),a=r[0],i=r[1],o=function(){n(!0)},f=function(){i(!0)};return l.useEffect((function(){return u.MediaPageStore.on("loaded_video_data",o),u.MediaPageStore.on("loaded_media_error",f),c.MediaPageActions.loadMediaData(),function(){u.MediaPageStore.removeListener("loaded_video_data",o),u.MediaPageStore.removeListener("loaded_media_error",f)}}),[]),l.default.createElement("div",{className:"embed-wrap",style:m},a&&l.default.createElement("div",{className:"player-container player-container-error",style:p},l.default.createElement("div",{className:"player-container-inner",style:p},l.default.createElement("div",{className:"error-container"},l.default.createElement("div",{className:"error-container-inner"},l.default.createElement("span",{className:"icon-wrap"},l.default.createElement("i",{className:"material-icons"},"error_outline")),l.default.createElement("span",{className:"msg-wrap"},u.MediaPageStore.get("media-load-error-message")))))),t&&l.default.createElement(s.SiteConsumer,null,(function(e){return l.default.createElement(d.default,{data:u.MediaPageStore.get("media-data"),siteUrl:e.url,containerStyles:p})})))}},541:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.VideoViewerActions=t.SearchFieldActions=t.ProfilePageActions=t.PlaylistViewActions=t.PlaylistPageActions=t.PageActions=t.MediaPageActions=void 0,t.MediaPageActions=i(n(979)),t.PageActions=i(n(6613)),t.PlaylistPageActions=i(n(5880)),t.PlaylistViewActions=i(n(9660)),t.ProfilePageActions=i(n(2472)),t.SearchFieldActions=i(n(2600)),t.VideoViewerActions=i(n(5464))},9722:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),a(n(6123),t),a(n(2526),t),a(n(3039),t),a(n(8925),t)},3613:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),a(n(1853),t),a(n(2295),t),a(n(5063),t),a(n(6972),t),a(n(6626),t),a(n(5485),t),a(n(657),t),a(n(1744),t),a(n(1929),t),a(n(324),t),a(n(1394),t),a(n(4083),t)},8578:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.VideoViewerStore=t.SearchFieldStore=t.ProfilePageStore=t.PlaylistViewStore=t.PlaylistPageStore=t.PageStore=t.MediaPageStore=void 0;var a=r(n(337));t.MediaPageStore=a.default;var i=r(n(7959));t.PageStore=i.default;var o=r(n(1566));t.PlaylistPageStore=o.default;var l=r(n(1439));t.PlaylistViewStore=l.default;var s=r(n(8024));t.ProfilePageStore=s.default;var u=r(n(7359));t.SearchFieldStore=u.default;var c=r(n(5641));t.VideoViewerStore=c.default}},n={};function r(e){var a=n[e];if(void 0!==a)return a.exports;var i=n[e]={exports:{}};return t[e].call(i.exports,i,i.exports,r),i.exports}r.m=t,e=[],r.O=function(t,n,a,i){if(!n){var o=1/0;for(u=0;u<e.length;u++){n=e[u][0],a=e[u][1],i=e[u][2];for(var l=!0,s=0;s<n.length;s++)(!1&i||o>=i)&&Object.keys(r.O).every((function(e){return r.O[e](n[s])}))?n.splice(s--,1):(l=!1,i<o&&(o=i));l&&(e.splice(u--,1),t=a())}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[n,a,i]},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.j=991,function(){var e={991:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,i,o=n[0],l=n[1],s=n[2],u=0;for(a in l)r.o(l,a)&&(r.m[a]=l[a]);if(s)var c=s(r);for(t&&t(n);u<o.length;u++)i=o[u],r.o(e,i)&&e[i]&&e[i][0](),e[o[u]]=0;return r.O(c)},n=self.webpackChunkmediacms_frontend=self.webpackChunkmediacms_frontend||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var a=r.O(void 0,[431],(function(){return r(3170)}));a=r.O(a)}();